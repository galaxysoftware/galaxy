# Unit tests for the game's core components.
gxy_add_test(game.component
  SOURCES
    test_component.cpp
    ${CMAKE_SOURCE_DIR}/src/game/component.cpp
    ${CMAKE_SOURCE_DIR}/src/components/background.cpp
    ${CMAKE_SOURCE_DIR}/src/components/transform.cpp
  LIBRARIES
    gtest_main
    ${YAMLCPP_LIBRARY}
)

gxy_add_test(game.entity
  SOURCES
    test_entity.cpp
    ${CMAKE_SOURCE_DIR}/src/components/background.cpp
    ${CMAKE_SOURCE_DIR}/src/components/transform.cpp
    ${CMAKE_SOURCE_DIR}/src/components/utils/empty_data.cpp
    ${CMAKE_SOURCE_DIR}/src/config/ast/component.cpp
    ${CMAKE_SOURCE_DIR}/src/config/ast/entity.cpp
    ${CMAKE_SOURCE_DIR}/src/game/component.cpp
    ${CMAKE_SOURCE_DIR}/src/game/entity.cpp
  LIBRARIES
    gtest_main
    ${YAMLCPP_LIBRARY}
)

gxy_add_test(game.scene
  SOURCES
    test_scene.cpp
    ${CMAKE_SOURCE_DIR}/src/components/background.cpp
    ${CMAKE_SOURCE_DIR}/src/components/transform.cpp
    ${CMAKE_SOURCE_DIR}/src/components/utils/empty_data.cpp
    ${CMAKE_SOURCE_DIR}/src/config/ast/component.cpp
    ${CMAKE_SOURCE_DIR}/src/config/ast/entity.cpp
    ${CMAKE_SOURCE_DIR}/src/game/component.cpp
    ${CMAKE_SOURCE_DIR}/src/game/entity.cpp
    ${CMAKE_SOURCE_DIR}/src/game/scene.cpp
  LIBRARIES
    gtest_main
    ${YAMLCPP_LIBRARY}
)

gxy_add_test(game.load
  SOURCES
    test_load.cpp
    ${CMAKE_SOURCE_DIR}/src/config/ast/component.cpp
    ${CMAKE_SOURCE_DIR}/src/config/ast/entity.cpp
    ${CMAKE_SOURCE_DIR}/src/config/ast/scene.cpp
    ${CMAKE_SOURCE_DIR}/src/config/load.cpp
    ${CMAKE_SOURCE_DIR}/src/components/background.cpp
    ${CMAKE_SOURCE_DIR}/src/components/transform.cpp
    ${CMAKE_SOURCE_DIR}/src/components/utils/empty_data.cpp
    ${CMAKE_SOURCE_DIR}/src/game/component.cpp
    ${CMAKE_SOURCE_DIR}/src/game/entity.cpp
    ${CMAKE_SOURCE_DIR}/src/game/scene.cpp
    ${CMAKE_SOURCE_DIR}/src/utils/scoped_directory.cpp
  LIBRARIES
    ${Boost_FILESYSTEM_LIBRARY}
    ${Boost_SYSTEM_LIBRARY}
    ${YAMLCPP_LIBRARY}
    gtest_main
)

